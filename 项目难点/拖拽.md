## 拖拽需求

**实现一个拖拽列表，每一行有输入框、选择器，并且这个列表可以实现增和删。**

要求：一个静态的拖动，不点击最下方按钮不调更新接口。



## 思路

1. **在原数组上进行改动**，拖拽容易产生bug，并且增删数据后会更新原数组，导致原先的拖拽会失效。
2. **维护一个新数组**。 增和删是要调接口的，因此单纯的用`useState`维护一个数组对象是不可行的， 在增加和删除时，也需要维护这个静态的数组。但是当初组件设计的时候没有这方面的考虑，作为兄弟组件，如果要实现，需要存储在context（或其他）中。在增和删时也进行维护它。

## 实际场景

账号管理-字段管理的拖拽排序功能。与普通拖拽排序不同的是，它的每一个列表中是有操作的，例如输入框、选择器、删除。在我实现拖拽组件后曾一度认为它与输入框修改不能共存的（拖拽的那一层会覆盖掉内部的点击事件等，这似乎挺符合包裹一层将事件给覆盖掉了），但是最终发现此处的文字和输入框是独立的，并不是类似于透明边框的输入框。原设计是默认是文字，鼠标移入就变成输入框，加上排序组件后，这个移入事件被覆盖掉了，也就导致了一直是文字，输入框根本就没有显示出来。找到原因后我就把这块代码重构了，设计成了透明边框的输入框，默认无边框显示文字，输入移入显示输入框边框。 

ps: 真是被同事的代码狠狠的坑了一把
